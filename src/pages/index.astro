---
import BaseLayout from "../layouts/BaseLayout.astro";
import AddToCart from "../components/AddToCart";
import { products } from "../data/products";
---


<BaseLayout>
  <main style="padding:24px;">
    <h1>Flax Lignan Health</h1>
    <h2 id="products">Products</h2>
    <div style="display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:16px;">
      {products.map((p) => {
        const unitCents = Math.round(p.price * 100);
        const item = { id: p.id, name: p.name, unitCents, image: p.image };
        return (
          <article style="border:1px solid #ddd;padding:12px;border-radius:8px;">
            <img src={p.image} alt={p.name} style="width:100%;border-radius:6px;" />
            <h3>{p.name}</h3>
            <p>${p.price.toFixed(2)}</p>
            <AddToCart client:load {...item} />
          </article>
        );
      })}
    </div>
  </main>
</BaseLayout>
