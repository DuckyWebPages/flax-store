---
import BaseLayout from "../layouts/BaseLayout.astro";
import AddToCart from "../components/AddToCart.astro";
import { products } from "../data/products";

const title = "Flax Lignan Health â€” Shop";
---

<BaseLayout {title}>
  <main>
    <style>
      :root { color-scheme: light; }
      body { background:#f8fafc; color:#0f172a; }
      main { max-width: 1100px; margin: 0 auto; padding: 24px 16px 56px; }
      .muted { font-size:12px; color:#64748b; }
      h1 { margin: 0 0 8px; }
      .grid {
        display:grid;
        grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
        gap: 20px;
      }
      .card {
        border:1px solid #e5e7eb;
        border-radius:14px;
        overflow:hidden;
        background:#fff;
      }
      .card img {
        width:100%;
        height:220px;
        object-fit:cover;
        display:block;
      }
      .card-body { padding:16px; }
      .price { font-weight:700; margin:.25rem 0 .5rem 0; }
      .desc { font-size:.95rem; line-height:1.35; white-space:pre-wrap; }
    </style>

    <h1>Products</h1>
    <p class="muted">Order directly from Flax Lignan Health.</p>

    <section class="grid">
      {products.map((p) => (
        <article class="card">
          <img src={p.image} alt={p.name} loading="lazy" />
          <div class="card-body">
            <h2 style="margin:0 0 4px 0;font-size:1.1rem;">{p.name}</h2>
            <div class="price">
              {p.price.toLocaleString("en-US", { style: "currency", currency: "USD" })}
            </div>
            <p class="desc">{p.description}</p>
            <AddToCart stripePaymentLink={p.stripePaymentLink} />
          </div>
        </article>
      ))}
    </section>
  </main>
</BaseLayout>
